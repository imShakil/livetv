(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80464,e=>{"use strict";var t=e.i(43476),r=e.i(53592);function n({size:e="md",className:n=""}){return(0,t.jsxs)("div",{className:`inline-flex items-center justify-center ${n}`,children:[(0,t.jsxs)("div",{className:"relative inline-flex items-center justify-center",children:[(0,t.jsx)("span",{className:`${"sm"===e?"h-14 w-14 border-2":"h-20 w-20 border-[3px]"} absolute animate-spin rounded-full border-sea/70 border-r-transparent`,"aria-hidden":"true"}),(0,t.jsx)("img",{src:"/uploads/dekho-prime-icon-header-128.png",alt:`${r.SITE_BRANDING.title} logo`,className:`${"sm"===e?"h-10 w-10 p-1":"h-14 w-14 p-1.5"} rounded-2xl bg-white shadow-sm`})]}),(0,t.jsx)("span",{className:"sr-only",children:"Loading"})]})}e.s(["default",()=>n])},82568,62824,e=>{"use strict";var t,r,n,a,i,s;let l,o,d,c,u,m;(n=t||(t={})).Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE";class h extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}}let f=(l=(i=a="u">typeof globalThis?globalThis:"u">typeof self?self:"u">typeof window?window:e.g).CapacitorCustomPlatform||null,d=(o=i.Capacitor||{}).Plugins=o.Plugins||{},c=()=>{var e,t;return null!==l?l.name:(null==i?void 0:i.androidBridge)?"android":(null==(t=null==(e=null==i?void 0:i.webkit)?void 0:e.messageHandlers)?void 0:t.bridge)?"ios":"web"},u=e=>{var t;return null==(t=o.PluginHeaders)?void 0:t.find(t=>t.name===e)},m=new Map,o.convertFileSrc||(o.convertFileSrc=e=>e),o.getPlatform=c,o.handleError=e=>i.console.error(e),o.isNativePlatform=()=>"web"!==c(),o.isPluginAvailable=e=>{let t=m.get(e);return!!((null==t?void 0:t.platforms.has(c()))||u(e))},o.registerPlugin=(e,r={})=>{let n,a=m.get(e);if(a)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),a.proxy;let i=c(),s=u(e),f=async()=>(!n&&i in r?n=n="function"==typeof r[i]?await r[i]():r[i]:null!==l&&!n&&"web"in r&&(n=n="function"==typeof r.web?await r.web():r.web),n),p=r=>{let n,a=(...a)=>{let l=f().then(l=>{let d=((r,n)=>{var a,l;if(s){let t=null==s?void 0:s.methods.find(e=>n===e.name);if(t)if("promise"===t.rtype)return t=>o.nativePromise(e,n.toString(),t);else return(t,r)=>o.nativeCallback(e,n.toString(),t,r);if(r)return null==(a=r[n])?void 0:a.bind(r)}else if(r)return null==(l=r[n])?void 0:l.bind(r);else throw new h(`"${e}" plugin is not implemented on ${i}`,t.Unimplemented)})(l,r);if(d){let e=d(...a);return n=null==e?void 0:e.remove,e}throw new h(`"${e}.${r}()" is not implemented on ${i}`,t.Unimplemented)});return"addListener"===r&&(l.remove=async()=>n()),l};return a.toString=()=>`${r.toString()}() { [capacitor code] }`,Object.defineProperty(a,"name",{value:r,writable:!1,configurable:!1}),a},g=p("addListener"),w=p("removeListener"),b=(e,t)=>{let r=g({eventName:e},t),n=async()=>{w({eventName:e,callbackId:await r},t)},a=new Promise(e=>r.then(()=>e({remove:n})));return a.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await n()},a},x=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return s?b:g;case"removeListener":return w;default:return p(t)}}});return d[e]=x,m.set(e,{name:e,proxy:x,platforms:new Set([...Object.keys(r),...s?[i]:[]])}),x},o.Exception=h,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,a.Capacitor=o),p=f.registerPlugin;class g{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);let n=this.windowListeners[e];return n&&!n.registered&&this.addWindowListener(n),r&&this.sendRetainedArgumentsForEvent(e),Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){for(let e in this.listeners={},this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,r){let n=this.listeners[e];if(!n){if(r){let r=this.retainedEventArguments[e];r||(r=[]),r.push(t),this.retainedEventArguments[e]=r}return}n.forEach(e=>e(t))}hasListeners(e){var t;return!!(null==(t=this.listeners[e])?void 0:t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new f.Exception(e,t.Unimplemented)}unavailable(e="not available"){return new f.Exception(e,t.Unavailable)}async removeListener(e,t){let r=this.listeners[e];if(!r)return;let n=r.indexOf(t);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){let t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}}let w=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);class b extends g{async getCookies(){let e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[r,n]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent).trim(),n=n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent).trim(),t[r]=n}),t}async setCookie(e){try{let t=w(e.key),r=w(e.value),n=e.expires?`; expires=${e.expires.replace("expires=","")}`:"",a=(e.path||"/").replace("path=",""),i=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${n}; path=${a}; ${i};`}catch(e){return Promise.reject(e)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(e){return Promise.reject(e)}}async clearCookies(){try{for(let e of document.cookie.split(";")||[])document.cookie=e.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}p("CapacitorCookies",{web:()=>new b});let x=async e=>new Promise((t,r)=>{let n=new FileReader;n.onload=()=>{let e=n.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},n.onerror=e=>r(e),n.readAsDataURL(e)});class y extends g{async request(e){let t,r,n=((e,t={})=>{let r=Object.assign({method:e.method||"GET",headers:e.headers},t),n=((e={})=>{let t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((r,n,a)=>(r[n]=e[t[a]],r),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)r.body=e.data;else if(n.includes("application/x-www-form-urlencoded")){let t=new URLSearchParams;for(let[r,n]of Object.entries(e.data||{}))t.set(r,n);r.body=t.toString()}else if(n.includes("multipart/form-data")||e.data instanceof FormData){let t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,r)=>{t.append(r,e)});else for(let r of Object.keys(e.data))t.append(r,e.data[r]);r.body=t;let n=new Headers(r.headers);n.delete("content-type"),r.headers=n}else(n.includes("application/json")||"object"==typeof e.data)&&(r.body=JSON.stringify(e.data));return r})(e,e.webFetchExtra),a=((e,t=!0)=>e?Object.entries(e).reduce((e,r)=>{let n,a,[i,s]=r;return Array.isArray(s)?(a="",s.forEach(e=>{n=t?encodeURIComponent(e):e,a+=`${i}=${n}&`}),a.slice(0,-1)):(n=t?encodeURIComponent(s):s,a=`${i}=${n}`),`${e}&${a}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),i=a?`${e.url}?${a}`:e.url,s=await fetch(i,n),l=s.headers.get("content-type")||"",{responseType:o="text"}=s.ok?e:{};switch(l.includes("application/json")&&(o="json"),o){case"arraybuffer":case"blob":r=await s.blob(),t=await x(r);break;case"json":t=await s.json();break;default:t=await s.text()}let d={};return s.headers.forEach((e,t)=>{d[t]=e}),{data:t,headers:d,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}p("CapacitorHttp",{web:()=>new y}),e.s(["Capacitor",()=>f,"WebPlugin",()=>g,"registerPlugin",()=>p],82568),(s=r||(r={})).NOT_REQUIRED="NOT_REQUIRED",s.OBTAINED="OBTAINED",s.REQUIRED="REQUIRED",s.UNKNOWN="UNKNOWN",e.s(["AdmobConsentStatus",()=>r],62824)},55568,e=>{"use strict";function t(e){try{let t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}}function r(e){if(!e)return"";if(t(e))return e;let r=e.match(/src=["']([^"']+)["']/i),n=r?.[1]||"";return t(n)?n:""}function n(e){if(!e)return!1;let t=r(e)||e;return/\.m3u8?([?#]|$)/i.test(t)}e.s(["isHttpUrl",()=>t,"isLikelyM3uSource",()=>n,"normalizeIframeSource",()=>r])},19439,1806,e=>{"use strict";var t,r,n,a,i,s,l,o,d,c,u,m,h,f,p,g,w=e.i(43476),b=e.i(71645),x=e.i(82568);(t=d||(d={})).General="General",t.ParentalGuidance="ParentalGuidance",t.Teen="Teen",t.MatureAudience="MatureAudience",(r=c||(c={})).SizeChanged="bannerAdSizeChanged",r.Loaded="bannerAdLoaded",r.FailedToLoad="bannerAdFailedToLoad",r.Opened="bannerAdOpened",r.Closed="bannerAdClosed",r.AdImpression="bannerAdImpression",(n=u||(u={})).TOP_CENTER="TOP_CENTER",n.CENTER="CENTER",n.BOTTOM_CENTER="BOTTOM_CENTER",(a=m||(m={})).BANNER="BANNER",a.FULL_BANNER="FULL_BANNER",a.LARGE_BANNER="LARGE_BANNER",a.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",a.LEADERBOARD="LEADERBOARD",a.ADAPTIVE_BANNER="ADAPTIVE_BANNER",a.SMART_BANNER="SMART_BANNER",(i=h||(h={})).Loaded="interstitialAdLoaded",i.FailedToLoad="interstitialAdFailedToLoad",i.Showed="interstitialAdShowed",i.FailedToShow="interstitialAdFailedToShow",i.Dismissed="interstitialAdDismissed",(s=f||(f={})).Loaded="onRewardedInterstitialAdLoaded",s.FailedToLoad="onRewardedInterstitialAdFailedToLoad",s.Showed="onRewardedInterstitialAdShowed",s.FailedToShow="onRewardedInterstitialAdFailedToShow",s.Dismissed="onRewardedInterstitialAdDismissed",s.Rewarded="onRewardedInterstitialAdReward",(l=p||(p={})).Loaded="onRewardedVideoAdLoaded",l.FailedToLoad="onRewardedVideoAdFailedToLoad",l.Showed="onRewardedVideoAdShowed",l.FailedToShow="onRewardedVideoAdFailedToShow",l.Dismissed="onRewardedVideoAdDismissed",l.Rewarded="onRewardedVideoAdReward",e.i(62824),(o=g||(g={}))[o.DISABLED=0]="DISABLED",o[o.EEA=1]="EEA",o[o.NOT_EEA=2]="NOT_EEA",o[o.US=3]="US",o[o.OTHER=4]="OTHER";let y=(0,x.registerPlugin)("AdMob",{web:()=>e.A(24225).then(e=>new e.AdMobWeb)});e.s(["AdMob",()=>y],1806);let v=null;async function j(e){return v||(v=(async()=>{if("ios"===x.Capacitor.getPlatform())try{let e=await y.trackingAuthorizationStatus();e?.status==="notDetermined"&&await y.requestTrackingAuthorization()}catch{}await y.initialize({initializeForTesting:!!e?.isTesting,testingDevices:Array.isArray(e?.testingDevices)?e.testingDevices:void 0})})().catch(e=>{throw v=null,e})),v}function N({slot:e,adsConfig:t,className:r=""}){let n=t?.slots?.[e],a="web"!==x.Capacitor.getPlatform(),i=n?.provider?n.provider:n?.slot?"adsense":null,s="adsterra"===i,l="admob"===i,o="adsense"===i,[d,c]=(0,b.useState)(!1),[h,f]=(0,b.useState)(!1),[p,g]=(0,b.useState)(!1),[v,N]=(0,b.useState)(!1),A=(0,b.useRef)(null),E=(0,b.useRef)(null);if((0,b.useEffect)(()=>{if(!n||!1===n.enabled)return;if(a&&l){let t,r="android"===(t=x.Capacitor.getPlatform())?n?.androidAdUnitId||n?.adUnitId||null:"ios"===t?n?.iosAdUnitId||n?.adUnitId||null:n?.adUnitId||null;if(!r)return void N(!0);let a=!1;return g(!1),N(!1),(async()=>{try{let t,i;await j(n),await y.showBanner({adId:r,adSize:(t=String(n?.adSize||n?.size||"").toUpperCase(),"MEDIUM_RECTANGLE"===t||"300X250"===t?m.MEDIUM_RECTANGLE:"ADAPTIVE"===t||"ADAPTIVE_BANNER"===t?m.ADAPTIVE_BANNER:m.BANNER),position:(i=n?.position)&&u[i]?u[i]:"header"===e||"eventTop"===e?u.TOP_CENTER:u.BOTTOM_CENTER,margin:Number(n?.margin||0),isTesting:!!n?.isTesting,npa:!!n?.npa}),a||g(!0)}catch(t){console.error("[AdSlot] AdMob banner error:",e,t),a||N(!0)}})(),()=>{a=!0,y.hideBanner().catch(()=>{}),y.removeBanner().catch(()=>{})}}if(a||!s&&!o)return;if(s){let e=n?.key;if(!e)return;let t=A.current;if(!t)return;let r=!1;c(!1),f(!1);let a=window;return a.__adsterraQueue=(a.__adsterraQueue||Promise.resolve()).then(()=>new Promise(i=>{if(r)return void i();t.innerHTML="",a.atOptions={key:e,format:n.format||"iframe",height:Number(n.height||90),width:Number(n.width||728),params:{}};let s=document.createElement("script");s.type="text/javascript",s.src=n.src||`https://ceasepancreas.com/${e}/invoke.js`,s.async=!0,s.onload=()=>i(),s.onerror=()=>{r||f(!0),i()},t.appendChild(s);let l=new MutationObserver(()=>{t.querySelector("iframe")&&(r||c(!0),l.disconnect())});l.observe(t,{childList:!0,subtree:!0}),window.setTimeout(()=>{l.disconnect(),t.querySelector("iframe")||r||f(!0)},3e3)})),()=>{r=!0,t.innerHTML=""}}let t=E.current;if(!t)return;let r=!1;g(!1),N(!1);let i=new MutationObserver(()=>{t.querySelector("iframe")&&(r||g(!0),i.disconnect())});i.observe(t,{childList:!0,subtree:!0});let d=window.setTimeout(()=>{i.disconnect(),t.querySelector("iframe")||r||N(!0)},4e3);try{window.adsbygoogle&&n?.slot&&(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(t){console.error("[AdSlot] Error:",e,t),N(!0)}return()=>{r=!0,window.clearTimeout(d),i.disconnect()}},[t?.adClient,l,o,s,a,e,n]),!n||!1===n.enabled||a||!s&&!o)return null;if(s){if(h)return null;let e=d?"":"hidden",t=n.hideOnMobile?`hidden md:flex ${e} ${r}`:`${e} ${r}`;return(0,w.jsx)("div",{className:`flex items-center justify-center overflow-hidden ${t}`,children:(0,w.jsx)("div",{ref:A})})}let L=t?.adClient||"ca-pub-2449944472030683";if(v)return null;let k=p?"":"hidden";if("fluid"===n.format)return(0,w.jsx)("div",{className:`${k} ${r}`,children:(0,w.jsx)("ins",{ref:E,className:"adsbygoogle",style:{display:"block"},"data-ad-format":"fluid","data-ad-layout-key":n.layoutKey,"data-ad-client":L,"data-ad-slot":n.slot})});let T=n?.size==="300x250";return(0,w.jsx)("div",{className:`flex items-center justify-center overflow-hidden ${k} ${r}`,children:(0,w.jsx)("ins",{ref:E,className:"adsbygoogle",style:T?{display:"inline-block",width:"300px",maxWidth:"100%",minHeight:"250px"}:{display:"block",width:"100%",maxWidth:"728px",minHeight:"50px"},"data-ad-client":L,"data-ad-slot":n.slot,"data-ad-format":"auto","data-full-width-responsive":"true"})})}e.s(["default",()=>N],19439)},6325,59958,e=>{"use strict";var t=e.i(71645),r=e.i(82568);function n(){let[e,n]=(0,t.useState)(null);return(0,t.useEffect)(()=>{fetch("/data/ads.json").then(e=>e.json()).then(e=>{n(function(e){if(!e||"web"===r.Capacitor.getPlatform())return e;let t=e?.mobile;return t?{...e,...t,slots:{...e.slots||{},...t.slots||{}}}:e}(function(e,t){if(!e||!t)return e;let r=e?.hosts?.[t];return r?{...e,...r,slots:{...e.slots||{},...r.slots||{}}}:e}(e,window.location.hostname)))}).catch(()=>n({enabled:!1}))},[]),e}function a(e){let t=/([\w-]+)=("[^"]*"|[^,]*)/g,r={},n=t.exec(e);for(;n;){let a=n[1].toLowerCase(),i=(n[2]||"").trim();r[a]=i.startsWith('"')&&i.endsWith('"')?i.slice(1,-1):i,n=t.exec(e)}return r}function i(e,t=""){if(!e)return"";let r=e.trim();if(!r)return"";let n=r.split("|")[0].trim();if(!n)return"";if(n.startsWith("//"))return`https:${n}`;try{return new URL(n).toString()}catch{if(!t)return n;try{return new URL(n,t).toString()}catch{return n}}}function s(e,t={}){let r=t?.baseUrl||"",n=e.split("\n").map(e=>e.trim()).filter(Boolean),l=[];for(let e=0;e<n.length;e+=1){let t=n[e];if(!t.startsWith("#EXTINF"))continue;let s=a(t),o=t.split(",").slice(1).join(",").trim(),d="";for(let t=e+1;t<n.length;t+=1){let r=n[t];if(r){if(r.startsWith("#EXTINF"))break;if(!r.startsWith("#")){d=r,e=t;break}}}let c=i(d,r);!c||c.startsWith("#")||l.push({id:`playlist-${l.length+1}`,name:s["tvg-name"]||o||`Channel ${l.length+1}`,logo:s["tvg-logo"]||"",type:"m3u8",source:c,category:s["group-title"]||"Uncategorized",language:s["tvg-language"]||""})}if(0===l.length)for(let e=0;e<n.length;e+=1){let t=n[e];if(!t.startsWith("#EXT-X-STREAM-INF"))continue;let s=a(t),o="";for(let t=e+1;t<n.length;t+=1){let r=n[t];if(r){if(r.startsWith("#EXT-X-STREAM-INF"))break;if(!r.startsWith("#")){o=r,e=t;break}}}let d=i(o,r);if(!d||d.startsWith("#"))continue;let c=s.name||s.resolution||(s.bandwidth?`${s.bandwidth}bps`:"")||`Variant ${l.length+1}`;l.push({id:`playlist-${l.length+1}`,name:c,logo:"",type:"m3u8",source:d,category:"Uncategorized",language:""})}if(0===l.length)for(let e of n){if(e.startsWith("#"))continue;let t=i(e,r);!t||t.startsWith("#")||l.push({id:`playlist-${l.length+1}`,name:`Channel ${l.length+1}`,logo:"",type:"m3u8",source:t,category:"Uncategorized",language:""})}return l}e.s(["default",()=>n],6325),e.s(["parseM3U8",()=>s],59958)},12935,e=>{"use strict";var t=e.i(59958),r=e.i(55568);function n(e,t,n){let a,i=e.id||`${n}-${t+1}`,s=(e.name||"").trim()||`Channel ${t+1}`,l=(e.logo||"").trim(),o=(e.type||"custom").toLowerCase(),d=(e.source||"").trim(),c=(a=(e.category||"Uncategorized").toLowerCase().trim().split(/[;,|]/)[0].trim()).charAt(0).toUpperCase()+a.slice(1),u=(e.language||"").trim();return d&&("iframe"!==o||(d=(0,r.normalizeIframeSource)(d)))?((0,r.isLikelyM3uSource)(d)&&(o="m3u8"),"m3u8"!==o&&"iframe"!==o||(0,r.isHttpUrl)(d))?{id:i,name:s,logo:l,type:o,source:d,category:c,language:u,origin:n}:null:null}async function a(e,t={}){let r=await fetch(e,t);if(!r.ok)throw Error(`Failed to load custom channels: ${r.status}`);let i=await r.json();return(Array.isArray(i?.channels)?i.channels:[]).map((e,t)=>n(e,t,"custom")).filter(Boolean)}async function i(e={}){return s("https://raw.githubusercontent.com/imShakil/tvlink/refs/heads/main/iptv.m3u8",e)}async function s(e,r={}){if(!e)return[];try{let a=function(e){if(!e)return"";try{let t=new URL(e);if("raw.githubusercontent.com"===t.hostname){let e=t.pathname.split("/").filter(Boolean);if(e.length>=6&&"refs"===e[2]&&"heads"===e[3]){let r=e[0],n=e[1],a=e[4],i=e.slice(5).join("/");return t.pathname=`/${r}/${n}/${a}/${i}`,t.toString()}}if("github.com"===t.hostname){let e=t.pathname.split("/").filter(Boolean);if(e.length>=5&&"blob"===e[2]){let t=e[0],r=e[1],n=e[3],a=e.slice(4).join("/");return`https://raw.githubusercontent.com/${t}/${r}/${n}/${a}`}}}catch{}return e}(e),i=await fetch(a,r);if(!i.ok)throw Error(`Failed to load playlist: ${i.status}`);let s=await i.text(),l=(0,t.parseM3U8)(s,{baseUrl:a}),o=l;if(l.length>1e3){let e=["news","sports","entertainment","movies","series","music","kids","documentary","lifestyle","general","business","animation"],t=l.filter(t=>{let r=t.category?.toLowerCase()||"";return e.some(e=>r.includes(e))});o=t.length?t:l}return o.map((e,t)=>n(e,t,"playlist")).filter(Boolean)}catch{return[]}}async function l(e={}){try{return await a("https://raw.githubusercontent.com/imShakil/tvlink/refs/heads/main/features.json",e)}catch{return[]}}function o(e,t){let r=new Set,n=[...e,...t].filter(e=>{let t=`${e.name.toLowerCase()}|${e.source}`;return!r.has(t)&&(r.add(t),!0)}),a=e=>/^[a-z0-9]/i.test(e.trim()),i=e=>e.trim().replace(/^[^a-z0-9]+/i,"").toLowerCase();return n.sort((e,t)=>{let r=a(e.name);if(r!==a(t.name))return r?-1:1;let n=i(e.name).localeCompare(i(t.name),void 0,{numeric:!0,sensitivity:"base"});return 0!==n?n:e.name.localeCompare(t.name,void 0,{numeric:!0,sensitivity:"base"})})}e.s(["WORLD_PLAYLIST_URL",0,"https://raw.githubusercontent.com/iptv-org/iptv/refs/heads/gh-pages/index.m3u","loadCustomChannels",()=>l,"loadPlaylistChannels",()=>i,"loadPlaylistChannelsFromUrl",()=>s,"mergeChannels",()=>o])},67585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let n=e.r(32061);function a({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new n.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,r)=>{"use strict";function n(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return n}})},52157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return o}});let n=e.r(43476),a=e.r(74080),i=e.r(63599),s=e.r(9885),l=e.r(43369);function o({moduleIds:e}){if("u">typeof window)return null;let t=i.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let n=t.reactLoadableManifest;for(let t of e){if(!n[t])continue;let e=n[t].files;r.push(...e)}}if(0===r.length)return null;let o=(0,l.getDeploymentIdQueryOrEmptyString)();return(0,n.jsx)(n.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,s.encodeURIPath)(e)}${o}`;return e.endsWith(".css")?(0,n.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,a.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return d}});let n=e.r(43476),a=e.r(71645),i=e.r(67585),s=e.r(52157);function l(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},r=(0,a.lazy)(()=>t.loader().then(l)),d=t.loading;function c(e){let l=d?(0,n.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?a.Suspense:a.Fragment,u=t.ssr?(0,n.jsxs)(n.Fragment,{children:["u"<typeof window?(0,n.jsx)(s.PreloadChunks,{moduleIds:t.modules}):null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(c,{...o?{fallback:l}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}});let n=e.r(55682)._(e.r(69093));function a(e,t){let r={};"function"==typeof e&&(r.loader=e);let a={...r,...t};return(0,n.default)({...a,modules:a.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},66987,7222,82987,91211,11346,e=>{"use strict";var t=e.i(43476),r=e.i(75254);let n=(0,r.default)("list-filter",[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]]),a=(0,r.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);function i({query:e,onQueryChange:r,category:i,onCategoryChange:s,categories:l,queryPlaceholder:o="Search channels"}){return(0,t.jsxs)("div",{className:"grid gap-2.5 md:gap-3 md:grid-cols-[1.6fr_1fr]",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 rounded-lg border border-steel/20 bg-white px-3 py-2.5",children:[(0,t.jsx)(a,{className:"h-4 w-4 text-steel"}),(0,t.jsx)("input",{value:e,onChange:e=>r(e.target.value),placeholder:o,className:"w-full border-none bg-transparent text-sm outline-none placeholder:text-steel/70"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 rounded-lg border border-steel/20 bg-white px-3 py-2.5",children:[(0,t.jsx)(n,{className:"h-4 w-4 text-steel"}),(0,t.jsx)("select",{value:i,onChange:e=>s(e.target.value),className:"w-full bg-transparent text-sm outline-none",children:l.map(e=>(0,t.jsx)("option",{value:e,children:"all"===e?"All categories":e},e))})]})]})}function s({page:e,totalPages:r,rangeStart:n,rangeEnd:a,totalCount:i,onPrevious:s,onNext:l}){return(0,t.jsxs)("div",{className:"flex flex-col gap-2 border-t border-steel/15 pt-3 text-sm sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("p",{className:"text-steel",children:["Showing ",n,"-",a," of ",i]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:s,disabled:1===e,className:"rounded-lg border border-steel/20 bg-white px-3 py-1.5 text-xs font-semibold text-ink disabled:opacity-40",children:"Previous"}),(0,t.jsxs)("span",{className:"min-w-20 text-center text-xs font-semibold text-steel",children:["Page ",e," / ",r]}),(0,t.jsx)("button",{type:"button",onClick:l,disabled:e===r,className:"rounded-lg border border-steel/20 bg-white px-3 py-1.5 text-xs font-semibold text-ink disabled:opacity-40",children:"Next"})]})]})}e.s(["default",()=>i],66987),e.s(["default",()=>s],7222);var l=e.i(71645),o=e.i(70703);let d=(0,r.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),c=(0,r.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var u=e.i(80464),m=e.i(55568);let h="bdiptv_telemetry";function f(){try{let e=window.localStorage.getItem(h),t=e?JSON.parse(e):[];return Array.isArray(t)?t:[]}catch{return[]}}function p(e){try{window.localStorage.setItem(h,JSON.stringify(e.slice(-100)))}catch{}}function g(e,t={}){let r={type:"event",name:e,payload:t,at:new Date().toISOString()};{let n=f();n.push(r),p(n),console.info("[bdiptv:event]",e,t)}}function w(e,t,r={}){let n={type:"metric",name:e,value:t,tags:r,at:new Date().toISOString()};{let a=f();a.push(n),p(a),console.info("[bdiptv:metric]",e,t,r)}}e.s(["logEvent",()=>g,"recordMetric",()=>w],82987);let b=(0,o.default)(()=>e.A(52572),{loadableGenerated:{modules:[65147]},ssr:!1}),x={1:"Playback was interrupted before the stream finished loading.",2:"The browser hit a network issue while fetching this stream.",3:"The stream data appears corrupted or partially unreadable.",4:"This stream format is not supported by this browser."};function y(e){if(!e)return null;if("number"==typeof e)return e;let t=String(e).match(/\b([45]\d{2})\b/);return t?Number(t[1]):null}function v({httpPlayerUrl:e}){return e?(0,t.jsx)("div",{className:"absolute right-3 top-3 z-20 max-w-[300px] rounded-lg border border-amber-300 bg-amber-50/95 p-2 text-amber-900 shadow",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(d,{className:"mt-0.5 h-4 w-4 shrink-0"}),(0,t.jsxs)("div",{className:"text-xs",children:[(0,t.jsx)("p",{className:"font-semibold",children:"HTTP stream on HTTPS page."}),(0,t.jsxs)("a",{href:e,className:"mt-1 inline-flex items-center gap-1 font-semibold underline",children:["Open HTTP player ",(0,t.jsx)(c,{className:"h-3.5 w-3.5"})]})]})]})}):null}function j({channel:e,autoplay:r,isLoading:n=!1}){let a=(0,l.useMemo)(()=>!("u"<typeof navigator)&&/Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent),[]),i=(0,l.useMemo)(()=>{if(!e||"https:"!==window.location.protocol||!e.source.startsWith("http://"))return null;try{let t=new URL("/play",window.location.href);return t.protocol="http:",t.searchParams.set("url",e.source),t.searchParams.set("type",e.type||"auto"),e.name&&t.searchParams.set("name",e.name),t.toString()}catch{return window.location.href.replace(/^https:/,"http:")}},[e]),s=t=>{g("player_play",{name:e?.name,type:t})},o=t=>{let r=function({code:e=null,status:t=null,message:r=""}={}){let n=String(r||"").toLowerCase(),a=t||y(r);return 401===a||403===a||n.includes("forbidden")||n.includes("unauthorized")||n.includes("geo")||n.includes("region")||n.includes("country")?"region":404===a||410===a||n.includes("not found")||n.includes("dead")||n.includes("manifestloaderror")?"broken":n.includes("network")||n.includes("timeout")||n.includes("failed to fetch")||n.includes("fragloaderror")||n.includes("levelloaderror")?"network":4===e||n.includes("not supported")||n.includes("decode")||n.includes("demux")||n.includes("codec")?"unsupported":n.includes("cors")||n.includes("mixed content")||n.includes("cross-origin")||n.includes("blocked")?"blocked":"unknown"}(t),n=t?.message||"Playback failed.";g("player_error",{name:e?.name,type:e?.type,mobile:a,reason:r,status:t?.status||void 0,code:t?.code||void 0,message:n})};if(!e)return n?(0,t.jsx)("div",{className:"flex min-h-[260px] items-center justify-center rounded-2xl border border-steel/20 bg-white/85 p-10 md:min-h-[420px]",children:(0,t.jsx)(u.default,{})}):(0,t.jsx)("div",{className:"flex min-h-[260px] items-center justify-center rounded-2xl border border-steel/20 bg-white/85 p-10 text-steel md:min-h-[420px]",children:"Select a channel to start streaming."});let c="https:"===window.location.protocol&&e.source.startsWith("http://");if("iframe"===e.type&&!(0,m.isLikelyM3uSource)(e.source)){let r=(0,m.normalizeIframeSource)(e.source);return r?(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border border-steel/20 bg-slate-900 shadow-card ring-1 ring-black/5",children:[c?(0,t.jsx)(v,{httpPlayerUrl:i}):null,(0,t.jsx)("div",{className:"aspect-video md:aspect-[16/9]",children:(0,t.jsx)("iframe",{src:r,title:e.name,className:"h-full w-full",allow:"autoplay; encrypted-media; picture-in-picture; fullscreen",allowFullScreen:!0})})]}):(0,t.jsxs)("div",{className:"flex min-h-[260px] items-center justify-center gap-2 rounded-2xl border border-amber-300 bg-amber-50 p-10 text-amber-900 md:min-h-[420px]",children:[(0,t.jsx)(d,{className:"h-5 w-5"}),"Invalid iframe source."]})}return a&&"m3u8"===e.type?(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border border-steel/20 bg-slate-900 shadow-card ring-1 ring-black/5",children:[c?(0,t.jsx)(v,{httpPlayerUrl:i}):null,(0,t.jsx)("div",{className:"aspect-video md:aspect-[16/9]",children:(0,t.jsx)("video",{src:e.source,controls:!0,autoPlay:!!r,playsInline:!0,muted:!0,preload:"metadata",className:"h-full w-full bg-slate-900",onPlay:()=>{s("native")},onError:e=>{let t,r,n;o((t=e?.target?.error||e?.currentTarget?.error,r=t?.code||null,n=t?.message||x[r]||"Native player failed to load the media stream.",{source:"native",code:r,message:n,status:y(n)}))}},`native-${e.source}`)})]}):(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border border-steel/20 bg-slate-900 shadow-card ring-1 ring-black/5",children:[c?(0,t.jsx)(v,{httpPlayerUrl:i}):null,(0,t.jsx)("div",{className:"aspect-video md:aspect-[16/9]",children:(0,t.jsx)(b,{url:e.source,controls:!0,playing:!!r,muted:!!r,onPlay:()=>{s(e.type)},onError:t=>{let r,n,a=(r="string"==typeof t&&t||t?.message||t?.details||t?.type||"React player reported a playback failure.",n=y(t?.response?.status)||y(t?.status)||y(r),{source:"react-player",code:null,message:r,status:n});console.error("[Player] Error:",a,e.name),o(a)},width:"100%",height:"100%",playsinline:!0,config:{file:{forceHLS:"m3u8"===e.type,hlsOptions:{enableWorker:!1,lowLatencyMode:!0,backBufferLength:30,maxBufferLength:30,maxMaxBufferLength:60,maxBufferSize:6e7,maxBufferHole:.5,highBufferWatchdogPeriod:2,nudgeMaxRetry:3,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:3},attributes:{controlsList:"nodownload",playsInline:!0,"webkit-playsinline":!0,"x-webkit-airplay":"allow",preload:"metadata"}}}},`react-${e.source}`)})]})}e.s(["default",()=>j],91211);var N=e.i(19439),A=e.i(77386),E=e.i(82568);function L({selectedChannel:e,autoplay:r,showAds:n=!1,adsConfig:a=null,showRewardedCta:i=!1,rewardedCtaLabel:s="Watch ad for ad-free time",onRewardedCtaClick:l,isRewardedCtaLoading:o=!1,emptyTitle:d="No channel selected",emptySubtitle:c="Select a channel from the list below.",getMetaText:m,isPlayerLoading:h=!1}){let f=e?m?.(e)||"":h?"":c,p="web"!==E.Capacitor.getPlatform();return(0,t.jsxs)("div",{className:"grid gap-3 md:gap-4 lg:grid-cols-[minmax(0,2.3fr)_minmax(0,1fr)] lg:grid-rows-[1fr]",children:[(0,t.jsx)("div",{className:"min-w-0",children:(0,t.jsx)(j,{channel:e,autoplay:r,isLoading:h})}),(0,t.jsx)("div",{className:"min-w-0 lg:h-0 lg:min-h-full overflow-hidden rounded-2xl",children:(0,t.jsxs)("div",{className:"flex h-full min-w-0 flex-col gap-3 overflow-hidden rounded-2xl border border-steel/20 bg-white/85 shadow-card",children:[(0,t.jsxs)("div",{className:"border-sea/30 bg-cyan-50 p-3.5 shrink-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-steel/80",children:"Now Playing"}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[e?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-ember/20 px-2 py-0.5 text-[10px] font-bold uppercase tracking-[0.08em] text-ember",children:[(0,t.jsxs)("span",{className:"relative inline-flex h-2 w-2",children:[(0,t.jsx)("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-ember opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-ember"})]}),"Live"]}):null,(0,t.jsx)("span",{className:"inline-flex rounded-full bg-white/80 px-2 py-0.5 text-[10px] font-semibold tracking-[0.02em] text-steel",children:(0,t.jsx)(A.default,{compact:!0})})]})]}),(0,t.jsx)("p",{className:"truncate pt-1 text-base font-semibold text-ink",children:e?e.name:h?"":d}),(0,t.jsx)("p",{className:"truncate text-xs text-steel",children:f}),h?(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsx)(u.default,{size:"sm"})}):null,i?(0,t.jsx)("button",{type:"button",onClick:l,disabled:o,className:"mt-2 inline-flex items-center rounded-full bg-ember px-3 py-1 text-[11px] font-semibold text-white transition hover:bg-[#e57d00] disabled:opacity-70",children:o?"Loading ad...":s}):null]}),n&&a?.slots?.sidebar?.enabled?(0,t.jsx)(N.default,{slot:"sidebar",adsConfig:a,className:"min-w-0 w-full overflow-hidden rounded-lg"}):null,p?null:(0,t.jsx)("div",{className:"w-full min-w-0 overflow-hidden shrink-0",children:(0,t.jsx)("a",{href:"https://beta.publishers.adsterra.com/referral/1XU1UuDLQw",rel:"nofollow sponsored noopener noreferrer",target:"_blank","aria-label":"Visit Adsterra referral partner page",className:"mx-auto block w-full",children:(0,t.jsx)("img",{alt:"Adsterra sponsored referral banner",src:"https://landings-cdn.adsterratech.com/referralBanners/png/600%20x%20250%20px.png",width:"600",height:"250",loading:"lazy",decoding:"async",className:"h-auto w-full rounded-lg shadow-sm ring-1 ring-black/5"})})})]})})]})}e.s(["default",()=>L],11346)},70191,e=>{"use strict";var t=e.i(43476);let r=(0,e.i(75254).default)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function n({channel:e,isActive:n,onSelect:a}){return(0,t.jsxs)("button",{type:"button",onClick:()=>a(e),className:`group flex w-full items-center gap-3 rounded-xl border p-3.5 text-left transition duration-200 ${n?"border-sea/70 bg-cyan-50 shadow-card":"border-steel/20 bg-white/90 hover:-translate-y-0.5 hover:border-sea/60 hover:bg-white hover:shadow-card"}`,children:[(0,t.jsx)("div",{className:"h-11 w-11 shrink-0 overflow-hidden rounded-lg bg-sand/80 ring-1 ring-black/5 sm:h-12 sm:w-12",children:e.logo?(0,t.jsx)("img",{src:e.logo,alt:`${e.name} logo`,className:"h-full w-full object-cover",loading:"lazy"}):(0,t.jsx)("div",{className:"flex h-full w-full items-center justify-center text-[11px] font-semibold tracking-wide text-ember",children:"LIVE"})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"truncate text-[13px] font-semibold text-ink sm:text-sm",children:e.name}),(0,t.jsxs)("p",{className:"truncate text-[11px] text-steel sm:text-xs",children:[e.category||"Uncategorized",e.language?` \xb7 ${e.language}`:""]})]}),(0,t.jsx)(r,{className:"hidden h-5 w-5 shrink-0 text-sea transition group-hover:scale-110 sm:block"})]})}var a=e.i(19439);function i({channels:e,selectedChannel:r,onSelect:i,showAds:s=!1,adsConfig:l}){return e.length?(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-2 xl:grid-cols-3",children:e.map((e,o)=>(0,t.jsxs)("div",{className:"contents",children:[(0,t.jsx)(n,{channel:e,isActive:r?.id===e.id,onSelect:i}),s&&5===o?(0,t.jsx)("div",{className:"col-span-2 xl:col-span-3",children:(0,t.jsx)(a.default,{slot:"inFeed",adsConfig:l})}):null]},e.id))}):(0,t.jsx)("div",{className:"rounded-xl border border-dashed border-steel/30 bg-white/70 p-6 text-sm text-steel",children:"No channels found for current filters."})}e.s(["default",()=>i],70191)},22561,23363,e=>{"use strict";var t=e.i(71645);function r({channels:e,pageSize:r=12,querySelector:n=e=>e.name,categorySelector:a=e=>e.category}){let[i,s]=(0,t.useState)(""),[l,o]=(0,t.useState)("all"),[d,c]=(0,t.useState)(1),u=(0,t.useMemo)(()=>["all",...Array.from(new Set(e.map(e=>a(e)).filter(Boolean))).sort((e,t)=>e.localeCompare(t))],[a,e]),m=(0,t.useMemo)(()=>{let t=i.toLowerCase().trim();return e.filter(e=>{let r=String(n(e)||"").toLowerCase(),i=a(e),s=r.includes(t),o="all"===l||i===l;return s&&o})},[l,a,e,i,n]),h=Math.max(1,Math.ceil(m.length/r)),f=(0,t.useMemo)(()=>{let e=(d-1)*r;return m.slice(e,e+r)},[m,d,r]),p=m.length?(d-1)*r+1:0,g=m.length?Math.min(d*r,m.length):0;return(0,t.useEffect)(()=>{c(1)},[i,l]),(0,t.useEffect)(()=>{d>h&&c(h)},[d,h]),{query:i,setQuery:s,category:l,setCategory:o,page:d,setPage:c,categories:u,filteredChannels:m,pagedChannels:f,totalPages:h,rangeStart:p,rangeEnd:g}}e.s(["default",()=>r],22561);var n=e.i(82568),a=e.i(1806);let i=null;function s(e){let t=n.Capacitor.getPlatform();return"android"===t?e?.androidAdUnitId||e?.adUnitId||null:"ios"===t?e?.iosAdUnitId||e?.adUnitId||null:e?.adUnitId||null}async function l(e){return i||(i=(async()=>{if("ios"===n.Capacitor.getPlatform())try{let e=await a.AdMob.trackingAuthorizationStatus();e?.status==="notDetermined"&&await a.AdMob.requestTrackingAuthorization()}catch{}await a.AdMob.initialize({initializeForTesting:!!e?.isTesting,testingDevices:Array.isArray(e?.testingDevices)?e.testingDevices:void 0})})().catch(e=>{throw i=null,e})),i}function o(e){let r="web"!==n.Capacitor.getPlatform(),i=(0,t.useRef)({}),o=(0,t.useRef)({}),d=(0,t.useRef)(!1),c=(0,t.useRef)(!1),u=(0,t.useRef)(0),[m,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(0),g=(0,t.useMemo)(()=>e?.rewarded?.unlockStream||null,[e]),w=f>Date.now(),b=w?Math.max(1,Math.ceil((f-Date.now())/6e4)):0,x=async t=>{if(!r||Date.now()<u.current)return!1;let n=e?.interstitial?.[t];if(!n||!1===n.enabled||"admob"!==n.provider)return!1;let c=s(n);if(!c)return!1;let m=(i.current[t]||0)+1;if(i.current[t]=m,m%Math.max(1,Number(n.triggerEvery||n.every||1))!=0)return!1;let h=Date.now(),f=Math.max(0,1e3*Number(n.cooldownSeconds||0)),p=o.current[t]||0;if(f>0&&h-p<f||d.current)return!1;d.current=!0;try{return await l(n),await a.AdMob.prepareInterstitial({adId:c,isTesting:!!n.isTesting,npa:!!n.npa}),await a.AdMob.showInterstitial(),o.current[t]=h,!0}catch(e){return console.error("[NativeAds] Interstitial failed:",t,e),!1}finally{d.current=!1}},y=async t=>{if(!r)return{shown:!1,rewarded:!1};let n=e?.rewarded?.[t];if(!n||!1===n.enabled||"admob"!==n.provider)return{shown:!1,rewarded:!1};let i=s(n);if(!i||c.current)return{shown:!1,rewarded:!1};c.current=!0,h(!0);try{await l(n),await a.AdMob.prepareRewardVideoAd({adId:i,isTesting:!!n.isTesting,npa:!!n.npa});let e=await a.AdMob.showRewardVideoAd(),t=Math.max(1,Number(n.rewardMinutes||15)),r=Date.now()+60*t*1e3;return u.current=r,p(r),{shown:!0,rewarded:!0,reward:e}}catch(e){return console.error("[NativeAds] Rewarded failed:",t,e),{shown:!1,rewarded:!1,error:e}}finally{c.current=!1,h(!1)}};return{maybeShowInterstitial:x,showRewarded:y,rewardedEnabled:!!(r&&g?.enabled&&g?.provider==="admob"&&s(g)),rewardedLabel:w?`Ad-free ${b}m left`:g?.ctaLabel||"Watch ad for ad-free time",isRewardedLoading:m,isRewardActive:w}}e.s(["default",()=>o],23363)}]);